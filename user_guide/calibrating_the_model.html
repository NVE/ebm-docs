

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calibrating the model &mdash; EBM - Energibruksmodell  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=9ed7352e" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/tabs.js?v=3030b3cb"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="../api_reference.html" />
    <link rel="prev" title="Geographical distribution" href="../geographical_distribution/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            EBM - Energibruksmodell
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../about_the_model.html">About EBM</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results.html">Result files</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_case.html">User case</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input_description.html">Input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="geographical_distribution.html">Geographical distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Model configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Model Functionality</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../model_description/index.html">Model Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../limitations.html">Limitations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building_parameters/index.html">Building categories and building codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../area/index.html">Area</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy_need/index.html">Energy need</a></li>
<li class="toctree-l1"><a class="reference internal" href="../heating_systems/index.html">Heating systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy_use/index.html">Energy use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../geographical_distribution/index.html">Geographical distribution</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Calibrating the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EBM - Energibruksmodell</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Calibrating the model</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user_guide/calibrating_the_model.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="calibrating-the-model">
<h1>Calibrating the model<a class="headerlink" href="#calibrating-the-model" title="Link to this heading">ÔÉÅ</a></h1>
<p>To get a good starting point the model needs to be calibrated. The starting point is either energy use per energy product
in a given year from temperature corrected statistics or a constructed year based on statistics.</p>
<section id="how-to-calibrate">
<span id="id1"></span><h2>How to calibrate<a class="headerlink" href="#how-to-calibrate" title="Link to this heading">ÔÉÅ</a></h2>
<p>Calibrating the model is done by changing up to three files.</p>
<ul class="simple">
<li><p>Kalibreringsark.xlsx</p></li>
<li><p>energy_need_behaviour_factor.csv</p></li>
<li><p>heating_system_efficiencies.csv</p></li>
</ul>
<p>‚ÄúKalibreringsark.xlsx‚Äù can modify the heating system share where the given factor changes a percentage of one heating system for another.
This excel file also makes it quick to see what the result of the calibration changes will be as the model directly modifies the cells
while having the excel file open.</p>
<p>‚Äúenergy_need_behaviour_factor.csv‚Äù contains a column called ‚Äúbehaviour_factor‚Äù. The factor modifies the
corresponding energy purpose in kWh/m<sup>2</sup> as given by a specific building code and building category. The start year and end
year can be specified, in addition to the mathematical function.</p>
<p>The table below shows how the csv file is formatted. When ‚Äúdefault‚Äù is input all valid
possibilites are affected.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Energy need behaviour factor.</span><a class="headerlink" href="#id2" title="Link to this table">ÔÉÅ</a></caption>
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>building_category</p></th>
<th class="head"><p>building_code</p></th>
<th class="head"><p>purpose</p></th>
<th class="head"><p>behaviour_factor</p></th>
<th class="head"><p>start_year</p></th>
<th class="head"><p>end_year</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>residential</p></td>
<td><p>default</p></td>
<td><p>default</p></td>
<td><p>1.0</p></td>
<td><p>2020</p></td>
<td><p>2050</p></td>
</tr>
<tr class="row-odd"><td><p>house</p></td>
<td><p>PRE_TEK49+TEK69 + TEK87+TEK49+TEK97</p></td>
<td><p>default</p></td>
<td><p>0.85</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>house</p></td>
<td><p>TEK07+TEK10+TEK17</p></td>
<td><p>lighting</p></td>
<td><p>0.85</p></td>
<td><p>2020</p></td>
<td><p>2050</p></td>
</tr>
<tr class="row-odd"><td><p>non_residential</p></td>
<td><p>default</p></td>
<td><p>default</p></td>
<td><p>1.15</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>retail</p></td>
<td><p>default</p></td>
<td><p>electrical_equipment</p></td>
<td><p>2.0</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>It is also possible to modify the
factors given in ‚Äúheating_system_efficiencies.csv‚Äù to fine tune the coverage of various heating technologies and their
efficiencies.</p>
</section>
<section id="assumptions">
<h2>Assumptions<a class="headerlink" href="#assumptions" title="Link to this heading">ÔÉÅ</a></h2>
<p>The calibration is based
on the <a class="reference external" href="https://www.ssb.no/statbank/table/11561/">Norwegian energy balance</a> published by Statistics Norway. The energy
balance contains yearly consumption statistics per energy product on households and private and public services,
including military. Heat production from heat pumps is calibrated on the basis of heat pump sale statistics from
the Norwegian Heat Pump Assosciation.</p>
</section>
<section id="how-to-run-ebm-calibration">
<h2>How to run ebm calibration<a class="headerlink" href="#how-to-run-ebm-calibration" title="Link to this heading">ÔÉÅ</a></h2>
<p>Make sure the Excel spreadsheetüßæ Kalibreringsark.xlsx is open.</p>
<p>You can run the calibration in two ways:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">Running as a program</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Running as a module</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">ebm-calibrate</span> <span class="p">-</span><span class="n">-calibration-year</span><span class="p">=</span><span class="n">2024</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">-m</span> <span class="n">ebm</span><span class="p">.</span><span class="n">cmd</span><span class="p">.</span><span class="n">calibrate_excel_com_io</span> <span class="p">-</span><span class="n">-calibration-year</span><span class="p">=</span><span class="n">2024</span>
</pre></div>
</div>
</div></div>
</section>
<section id="command-line-options">
<h2>Command line options<a class="headerlink" href="#command-line-options" title="Link to this heading">ÔÉÅ</a></h2>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span> <span class="n">ebm-calibrate</span> <span class="p">-</span><span class="n">-help</span>

<span class="n">usage</span><span class="p">:</span> <span class="n">ebm-calibrate</span><span class="p">.</span><span class="n">exe</span> <span class="p">[</span><span class="n">-h</span><span class="p">]</span> <span class="p">[-</span><span class="n">-debug</span><span class="p">]</span> <span class="p">[-</span><span class="n">-version</span><span class="p">]</span> <span class="p">[-</span><span class="n">-calibration-year</span> <span class="no">[CALIBRATION_YEAR]]</span>

<span class="n">options</span><span class="p">:</span>
  <span class="n">-h</span><span class="p">,</span> <span class="p">-</span><span class="n">-help</span>            <span class="n">show</span> <span class="n">help</span> <span class="n">message</span> <span class="n">and</span> <span class="n">exit</span>
  <span class="p">-</span><span class="n">-debug</span>               <span class="n">Run</span> <span class="k">in</span> <span class="n">debug</span> <span class="n">mode</span><span class="p">.</span> <span class="p">(</span><span class="n">Extra</span> <span class="n">information</span> <span class="n">written</span> <span class="n">to</span> <span class="n">stdout</span><span class="p">)</span>
  <span class="p">-</span><span class="n">-version</span><span class="p">,</span> <span class="n">-v</span>         <span class="n">show</span> <span class="n">the</span> <span class="n">ebm</span> <span class="n">version</span> <span class="n">number</span> <span class="n">and</span> <span class="n">exit</span>
  <span class="p">-</span><span class="n">-calibration-year</span> <span class="no">[CALIBRATION_YEAR]</span><span class="p">,</span> <span class="p">-</span><span class="n">-ebm-calibration-year</span> <span class="no">[CALIBRATION_YEAR]</span>
</pre></div>
</div>
</section>
<section id="environment-variables">
<h2>Environment variables<a class="headerlink" href="#environment-variables" title="Link to this heading">ÔÉÅ</a></h2>
<p>Any environment variables will override the default values. Optionally, environment variables can be read from the
file üßæ <code class="docutils literal notranslate"><span class="pre">.env</span></code> if present in the current working directory.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">environment variables supported by ebm-calibrate</span><a class="headerlink" href="#id3" title="Link to this table">ÔÉÅ</a></caption>
<thead>
<tr class="row-odd"><th class="head stub"><p>name</p></th>
<th class="head"><p>explanation</p></th>
<th class="head"><p>default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>EBM_CALIBRATION_YEAR</p></th>
<td><p>The year used as reference for the calibration</p></td>
<td><p>2024</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>EBM_CALIBRATION_YEAR_CELL</p></th>
<td><p>Cell used for writing the calibration year header</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">C63</span></code></p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Command-line options take precedence over environment variables.</p>
</div>
<p>Last Updated on 2026-01-19</p>
<p>Version: 1.0.6.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../geographical_distribution/index.html" class="btn btn-neutral float-left" title="Geographical distribution" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api_reference.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The Norwegian Water Resources and Energy Directorate (NVE).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>